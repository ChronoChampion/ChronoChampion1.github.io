<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wordle</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            background: #121213;
            color: #fff;
            font-family: 'Segoe UI', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        h1 {
            margin-top: 32px;
            letter-spacing: 0.1em;
            font-weight: 600;
        }
        #inputPanel {
            margin-top: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        #wordInput {
            width: 120px;
            font-size: 1.4em;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            padding: 6px 12px;
            border: none;
            border-radius: 5px;
            background: #232323;
            color: #fff;
        }
        #submitBtn {
            padding: 8px 18px;
            background: #538d4e;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            font-weight: 500;
        }
        #submitBtn:hover {
            background: #6aaa64;
        }
        #feedbackPanel {
            margin-top: 32px;
            display: flex;
            gap: 12px;
        }
        .tile {
            width: 50px;
            height: 50px;
            background: #3a3a3c;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: bold;
            color: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.12);
            transition: background 0.3s;
        }
        .tile.green { background: #538d4e; }
        .tile.yellow { background: #b59f3b; }
        .tile.gray { background: #3a3a3c; }
        #message {
            margin-top: 18px;
            color: #e9d100;
            font-weight: 500;
            min-height: 24px;
        }
        @media (max-width: 500px) {
            .tile { width: 36px; height: 36px; font-size: 1.4em; }
            #wordInput { width: 80px; font-size: 1em; }
        }
    </style>
</head>
<body>
    <h1>Wordle</h1>
    <div id="inputPanel">
        <label for="wordInput" style="font-size:1.1em;">Enter 5-letter word:</label>
        <input id="wordInput" maxlength="5" autocomplete="off" autofocus>
        <button id="submitBtn">Submit</button>
    </div>
    <div id="feedbackPanel">
        <div class="tile" id="tile0"></div>
        <div class="tile" id="tile1"></div>
        <div class="tile" id="tile2"></div>
        <div class="tile" id="tile3"></div>
        <div class="tile" id="tile4"></div>
    </div>
    <div id="message"></div>

    <script>
        const dailyWord = "CIVIL";
        const wordInput = document.getElementById('wordInput');
        const submitBtn = document.getElementById('submitBtn');
        const tiles = [
            document.getElementById('tile0'),
            document.getElementById('tile1'),
            document.getElementById('tile2'),
            document.getElementById('tile3'),
            document.getElementById('tile4')
        ];
        const message = document.getElementById('message');

        // Restrict input to letters only and uppercase
        wordInput.addEventListener('input', e => {
            let val = wordInput.value.toUpperCase().replace(/[^A-Z]/g, '');
            wordInput.value = val.slice(0, 5);
        });

        function check(input) {
            // Returns array: 1=green, 0=yellow, -1=gray
            let result = new Array(5).fill(-1);
            const used = Array(5).fill(false);

            // First pass: greens
            for (let i = 0; i < 5; i++) {
                if (input[i] === dailyWord[i]) {
                    result[i] = 1;
                    used[i] = true;
                }
            }
            // Second pass: yellows
            for (let i = 0; i < 5; i++) {
                if (result[i] === 1) continue;
                for (let j = 0; j < 5; j++) {
                    if (!used[j] && input[i] === dailyWord[j]) {
                        result[i] = 0;
                        used[j] = true;
                        break;
                    }
                }
            }
            return result;
        }

        function showFeedback(input, result) {
            for (let i = 0; i < 5; i++) {
                tiles[i].textContent = input[i] ? input[i] : '';
                tiles[i].className = 'tile';
                if (input[i]) {
                    if (result[i] === 1) tiles[i].classList.add('green');
                    else if (result[i] === 0) tiles[i].classList.add('yellow');
                    else tiles[i].classList.add('gray');
                }
            }
        }

        function handleSubmit() {
            const input = wordInput.value.toUpperCase();
            if (input.length !== 5) {
                message.textContent = "Please enter exactly 5 letters.";
                showFeedback('', [-1,-1,-1,-1,-1]);
                return;
            }
            message.textContent = '';
            const result = check(input);
            showFeedback(input, result);

            if (result.every(r => r === 1)) {
                message.textContent = "Congratulations! You guessed the word!";
            }
        }

        submitBtn.onclick = handleSubmit;
        wordInput.onkeydown = e => {
            if (e.key === 'Enter') handleSubmit();
        };

        // Initial empty feedback
        showFeedback('', [-1,-1,-1,-1,-1]);
    </script>
</body>
</html>